<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>MySystem</title>
  
  <link rel="icon" href="res/favicon.ico" type="image/png" />
  <link rel="SHORTCUT ICON" href="res/favicon.ico" type="image/png" />


  <!-- WireIt CSS -->
  <link rel="stylesheet" type="text/css" href="css/WireIt.css" />
  <link rel="stylesheet" type="text/css" href="css/WireItEditor.css" />
  <link rel="stylesheet" type="text/css" href="css/mysystem.css" />

  <!-- YUI CSS files: -->
  <link rel="stylesheet" type="text/css" href="../lib/YUI/reset-font-grids.css" />
  <link rel="stylesheet" type="text/css" href="../lib/YUI/base-min.css" />
  <link rel="stylesheet" type="text/css" href="../lib/YUI/sam.css" />


  <!-- JQuery -->
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>

  <!-- YUI JS Combo file: -->
  <script type="text/javascript" src="../lib/YUI/YUI-combo.js"></script>


  <script type="text/javascript" src="../lib/canvastext.js"></script>
  <script type="text/javascript" src="../lib/uuid.js"></script>

  <!-- WireIt -->
  <!--[if IE]><script type="text/javascript" src="../lib/excanvas.js"></script><![endif]-->
  <script type="text/javascript" src="js/wireit/WireIt.js"></script>
  <script type="text/javascript" src="js/wireit/CanvasElement.js"></script>
  <script type="text/javascript" src="js/wireit/Wire.js"></script>
  <script type="text/javascript" src="js/wireit/Terminal.js"></script>
  <script type="text/javascript" src="js/wireit/util/DD.js"></script>
  <script type="text/javascript" src="js/wireit/util/DDResize.js"></script>
  <script type="text/javascript" src="js/wireit/Container.js"></script>
  <script type="text/javascript" src="js/wireit/ImageContainer.js"></script>
  <script type="text/javascript" src="js/wireit/Layer.js"></script>
  <script type="text/javascript" src="js/wireit/util/inputex/FormContainer-beta.js"></script>
  <script type="text/javascript" src="js/wireit/LayerMap.js"></script>
  <script type="text/javascript" src="js/wireit/ImageContainer.js"></script>
  
  <!-- Data service adaptors -->
  <script type="text/javascript" src="js/RestDS.js"></script>
  <script type="text/javascript" src="js/ds/MocDS.js"></script>
  <script type="text/javascript" src="js/ds/GGearsDS.js"></script>
  <script type="text/javascript" src="js/ds/VleDS.js"></script>
  <script type="text/javascript" src="js/ds/CookieDS.js"></script>
  
  <!-- My System -->
  <script type="text/javascript" src="js/MySystemUtil.js"></script>
  <script type="text/javascript" src="js/MySystemPropEditor.js"></script>
  <script type="text/javascript" src="js/MySystemWireLabel.js"></script>
  <script type="text/javascript" src="js/MySystemContainer.js"></script>
  <script type="text/javascript" src="js/MySystemNote.js"></script>
  <script type="text/javascript" src="js/MySystemData.js"></script>
  <script type="text/javascript" src="js/MySystemEditor.js"></script>
  <script type="text/javascript" src="js/MySystem.js"></script>
  <script type="text/javascript" src="js/GoalPanel.js"></script>

  <!-- My Engine -->
  <script type="text/javascript" src="engine/mysystem-engine.js"></script>
  <script type="text/javascript" src="../lib/http.js"></script>
  
</head>

<body class="yui-skin-sam">

  <script>

        var mySystem;
        var myDataService;
        $(document).ready(function() {
          mySystem = new MySystem('prefs.json');
          myDataService = new MocDS(null,null);
          //myDataService = new VleDS(vle);
          //myDataService = new RestDS('','');
          // myDataService = new GGearsDS('write','write','mysys');
          //myDataService = new CookieDS(null,'write');
          mySystem.setDataService(myDataService);
          if (mySystem.editor) {
            mySystem.editor.enableLoadAndSave();
          }
          mySystem.load();

        });
        
        onExit = function () {
            debug("saving mystem data before we leave");
            mySystem.save();
            debug("saved!");
        }
      
        // window.onbeforeunload = onExit;

  </script>

  <div id="goal_panel">
    <span id="goal_panel_text"></span>
    <img id="goal_panel_icon"/>
  </div>

  <div id="editing_window">
    <div id="top">
      <div class="logo">MySystem</div>
      <div id="toolbar"></div>
      <div class="topright">
      </div>
    </div>

    <div id="left">
    </div>

    <div id="center">
      <div id="property_editor">
        <div id="prop_bar">
          <div id="property_editor_closer"></div>
          <h4><span id="prop_name"></span></h4>
        </div>
        <div id="icon_spot"></div>

        <form id="prop_form" name="prop_form">
        </form>
        <div id="palette"></div>
      </div>      
    </div>
  
  </div> <!-- editing window end -->

  <div id="print_window" style="display:none;width:100%;height:100%;z-index:100;">
    Nothing to see here.  Move along.
    <div class="hd">Printing Canvas (beta)</div>
    <div class="bd" style="text-align: left;">
      <canvas id="printing_canvas" width="300" height "300"></canvas>
    </div>
  </div>

</body>
</html>
